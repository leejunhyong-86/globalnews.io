# NewsDashvorld - 세계 뉴스 대시보드 PRD

## 1. 제품 개요

### 1.1 목적
노션 뉴스 데이터베이스를 활용하여 세계지도와 3D 지구본에서 글로벌 뉴스를 시각적으로 표현하는 대시보드를 제공합니다. 사용자는 마치 세상을 한눈에 바라보는 듯한 경험으로 전 세계 뉴스를 탐색할 수 있습니다.

### 1.2 핵심 가치
- **시각화**: 세계지도/3D 지구본에서 뉴스를 국가별로 시각화
- **실시간**: 실시간 낮/밤 표현으로 생동감 있는 지구 표현
- **직관성**: 호버/클릭으로 뉴스 요약 및 상세 정보 확인
- **AI 활용**: Gemini AI로 뉴스 요약 및 국가 자동 추출
- **확장성**: PWA, 모바일 위젯 등으로 확장 가능한 구조

### 1.3 대상 사용자
- 글로벌 뉴스를 빠르게 파악하고 싶은 비즈니스 전문가
- 세계 정세에 관심 있는 일반 사용자
- 데이터 시각화에 관심 있는 개발자/디자이너
- 노션을 활용한 정보 관리 시스템을 구축한 사용자

## 2. 기능 요구사항

### 2.1 핵심 기능

#### 2.1.1 세계지도 시각화

**3D 지구본 (Three.js)**
- 설명: 실제 지구처럼 회전하는 3D 지구본 표현
- 기능:
  - 자동 회전 애니메이션 (속도 조절 가능)
  - 마우스 드래그로 회전
  - 줌 인/아웃
  - 별 배경 (우주 분위기)
  - 대기권 글로우 효과
  - 구름 레이어

**2D 세계지도 (D3.js)**
- 설명: 평면 세계지도로 전체 뉴스 분포 확인
- 기능:
  - Natural Earth 투영법
  - 위도/경도 격자선
  - 대륙별 색상 구분
  - 확대/축소

**뷰 토글**
- 3D/2D 뷰 전환 버튼
- 부드러운 전환 애니메이션

#### 2.1.2 실시간 낮/밤 표현

- 설명: 현재 시간에 따라 지구의 낮/밤 영역을 실시간으로 표현
- 계산 방식:
  - UTC 시간 기준 태양 경도 계산
  - 계절에 따른 태양 적위 반영 (북반구/남반구 계절 차이)
- 시각적 표현:
  - 3D: 방향성 조명으로 자연스러운 명암
  - 2D: 반투명 어두운 오버레이로 밤 영역 표시

#### 2.1.3 뉴스 마커 시스템

**마커 표시**
- 국가별 좌표에 뉴스 마커 배치
- 같은 국가의 여러 뉴스는 약간의 오프셋으로 분산
- 마커 색상: 빨간색 (뉴스 알림 느낌)
- 펄스 애니메이션으로 주의 끌기

**인터랙션**
- 호버: 한 줄 요약 툴팁 표시
- 클릭: 뉴스 상세 패널 오픈
- 커서 변경 (pointer)

**툴팁 내용**
- 뉴스 제목
- AI 요약 (한 줄)
- 국가 및 출처

#### 2.1.4 뉴스 상세 패널

- 설명: 사이드 패널로 뉴스 상세 정보 표시
- 포함 정보:
  - 제목
  - AI 요약
  - 설명 (기사 내용)
  - 출처, 국가, 날짜
  - 원문 보기 버튼
  - 같은 국가의 다른 뉴스

#### 2.1.5 AI 기능 (Gemini)

**한 줄 요약**
- 뉴스 제목과 내용을 한국어로 번역
- 50자 이내로 간결하게 요약
- 뉴스 수집 시 자동 생성

**국가 추출**
- 뉴스 내용에서 가장 관련 있는 국가 추출
- 여러 국가 언급 시 주요 배경 국가 선택
- 추출 실패 시 출처 기반 추정

### 2.2 부가 기능

#### 2.2.1 헤더
- 로고 및 타이틀
- 실시간 시계 (한국 시간)
- 뉴스 개수 표시
- LIVE 인디케이터

#### 2.2.2 반응형 디자인
- 데스크탑 최적화
- 태블릿/모바일 지원 (축소된 UI)

## 3. 기술 스택

### 3.1 프론트엔드
- **프레임워크**: Next.js 14 (App Router)
- **언어**: TypeScript
- **3D 그래픽**: Three.js, @react-three/fiber, @react-three/drei
- **2D 그래픽**: D3.js
- **스타일링**: Tailwind CSS
- **상태 관리**: React useState/useEffect

### 3.2 백엔드
- **API**: Next.js API Routes
- **데이터베이스**: Notion API
- **AI**: Google Gemini API

### 3.3 외부 서비스
- **노션**: 뉴스 데이터 저장소
- **Gemini**: AI 요약 및 국가 추출

### 3.4 개발 도구
- **패키지 매니저**: pnpm
- **타입 체크**: TypeScript
- **린팅**: ESLint

## 4. 데이터 모델

### 4.1 NewsItem
```typescript
interface NewsItem {
  id: string;           // 노션 페이지 ID
  title: string;        // 뉴스 제목
  url: string;          // 원문 링크
  description?: string; // 기사 내용
  source?: string;      // 출처 (CNN, BBC 등)
  date?: string;        // 발행일
  summary?: string;     // AI 한 줄 요약
  country?: string;     // 관련 국가
  coordinates?: {       // 지도 좌표
    lat: number;
    lng: number;
  };
}
```

### 4.2 노션 데이터베이스 스키마
| 속성명 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| name | Title | ✅ | 뉴스 제목 |
| URL | URL | ✅ | 원문 링크 |
| 설명 | Rich Text | | 기사 내용 |
| 출처 | Rich Text | | 뉴스 소스 |
| date | Date | | 발행일 |
| 한 줄 요약 | Rich Text | | AI 요약 |
| 국가 | Rich Text | | 관련 국가 |

## 5. 아키텍처

```
┌─────────────────────────────────────────────────────────┐
│                      클라이언트                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │
│  │   Globe3D   │  │ WorldMap2D  │  │  NewsPanel  │     │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘     │
│         │                │                │             │
│         └────────────────┼────────────────┘             │
│                          │                              │
│                    ┌─────▼─────┐                       │
│                    │  page.tsx  │                       │
│                    └─────┬─────┘                       │
└──────────────────────────┼──────────────────────────────┘
                           │
                     ┌─────▼─────┐
                     │ /api/news │
                     └─────┬─────┘
                           │
              ┌────────────┼────────────┐
              │            │            │
        ┌─────▼─────┐ ┌────▼────┐ ┌────▼────┐
        │  Notion   │ │ Gemini  │ │  RSS    │
        │    API    │ │   API   │ │  Feeds  │
        └───────────┘ └─────────┘ └─────────┘
```

## 6. 사용자 시나리오

### 6.1 메인 대시보드 접속
1. 사용자가 웹사이트 접속
2. 로딩 화면에서 "전 세계 뉴스를 불러오는 중..." 표시
3. 3D 지구본이 천천히 회전하며 표시
4. 뉴스 마커들이 국가별 위치에 나타남
5. 헤더에 현재 시간과 뉴스 개수 표시

### 6.2 뉴스 탐색
1. 지구본을 드래그하여 원하는 지역으로 회전
2. 뉴스 마커에 마우스 호버
3. 툴팁에서 뉴스 제목과 한 줄 요약 확인
4. 관심 있는 뉴스 클릭

### 6.3 뉴스 상세 확인
1. 뉴스 클릭 시 상세 패널 슬라이드 인
2. 전체 요약 및 설명 확인
3. "원문 보기" 버튼으로 원본 기사 이동
4. 같은 국가의 다른 뉴스 탐색

### 6.4 뷰 전환
1. 하단 토글 버튼에서 "2D 지도" 클릭
2. 평면 세계지도로 전환
3. 전체 뉴스 분포를 한눈에 확인
4. "3D 지구본" 클릭하여 다시 전환

## 7. 디자인 가이드

### 7.1 색상 팔레트
- **Primary (Cosmos)**: #6172f3 ~ #080d2b (우주 블루 계열)
- **Background**: 그라디언트 (#080d2b → #0c1445)
- **Accent**: #fbbf24 (태양/하이라이트)
- **Alert**: #ef4444 (뉴스 마커)
- **Text**: #ffffff, #a4bcfc (밝은 계열)

### 7.2 타이포그래피
- **Display**: Orbitron (SF/우주 느낌)
- **Body**: Rajdhani (현대적, 가독성)

### 7.3 애니메이션
- 지구 자전: 60초 1회전
- 마커 펄스: 2초 주기
- 패널 슬라이드: 300ms
- 호버 효과: 200ms

## 8. 성능 요구사항

### 8.1 로딩 시간
- 초기 로딩: 3초 이내
- API 응답: 1초 이내
- 뷰 전환: 즉각적 (300ms)

### 8.2 렌더링 성능
- 60fps 유지 (3D 지구본)
- 마커 100개 이상 지원

## 9. 향후 확장 계획

### 9.1 단기 (1-2주)
- Vercel 배포
- PWA 설정
- 기본 SEO 최적화

### 9.2 중기 (1개월)
- 뉴스 필터링/검색
- 다크/라이트 테마
- 알림 기능

### 9.3 장기 (3개월+)
- 안드로이드 위젯 앱
- 챗봇 연동 (텔레그램/슬랙)
- 뉴스 트렌드 분석
- 다국어 지원

## 10. 버전 히스토리

### v1.0.0 (현재)
- 3D 지구본 + 2D 세계지도 구현
- 실시간 낮/밤 표현
- 뉴스 마커 시스템
- AI 요약 및 국가 추출
- 뉴스 상세 패널

---

**문서 작성일**: 2024년 12월
**프로젝트**: NewsDashvorld
**작성자**: AI Assistant
